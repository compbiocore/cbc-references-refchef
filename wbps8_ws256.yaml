wbps8_ws256:
  metadata:
    name: wbps8_ws256
    common_name: worm
    organism: Caenorhabditis elegans
    organization: wormbase_parasite
    custom: no
    downloader: fgelin
    description: none
    ncbi_taxon_id: 6239    
    ensembl_release_number: 
    accession:
      genbank:
      refseq:
  levels:
    references:
    - component: primary
      complete:
        status: false
      commands:
      - wget ftp://ftp.ebi.ac.uk/pub/databases/wormbase/parasite/releases/WBPS8/species/caenorhabditis_elegans/PRJNA13758/caenorhabditis_elegans.PRJNA13758.WBPS8.genomic.fa.gz
      - gunzip -c caenorhabditis_elegans.PRJNA13758.WBPS8.genomic.fa.gz > caenorhabditis_elegans.PRJNA13758.WBPS8.genomic.fa
      - md5sum *.* > final_checksums.md5
    - component: cdna-trandscriptome
      complete:
        status: false
      commands:
      - wget ftp://ftp.ebi.ac.uk/pub/databases/wormbase/parasite/releases/WBPS8/species/caenorhabditis_elegans/PRJNA13758/caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.fa.gz
      - gunzip -c caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.fa.gz > caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.fa
      - cat caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.fa | awk '{if($1 ~ ">" ) {split($1,a,".");$1=a[1]}; print }' > caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.salmon.fa
      - cat caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.fa | awk '{if($1 ~ ">" ) {split($1,a,".");$1=a[1]; split($2,b,"."); $2=b[1];} print }' > caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.salmon2.fa
      - cat caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.fa | awk '{if($1 ~ ">" ) {split($2,b,"."); $2=b[1];} print }' > caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.salmon3.fa
      - mkdir salmon_index
      - salmon index -t caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.fa -i salmon_index/c_elegans_PRJNA13758_WBPS8_mRNA_orig_index  --type quasi -k 25
      - salmon index -t caenorhabditis_elegans.PRJNA13758.WBPS8.mRNA_transcripts.salmon2.fa -i salmon_index/c_elegans_PRJNA13758_WBPS8_mRNA_transcripts_index --type quasi -k 25
      - md5sum *.* > final_checksums.md5
